- [内存模型](#内存模型)
  - [数据类型](#数据类型)
  - [变量](#变量)
  - [内存模型](#内存模型-1)
- [常考概念](#常考概念)
  - [可重入和不可重入](#可重入和不可重入)
  - [溢出](#溢出)
- [常考关键字](#常考关键字)
  - [static](#static)
  - [const](#const)


# 内存模型

## 数据类型
- 基本数据类型

c++关键字中包括6种基本数据类型，两种基本变量修饰类型，如下：

|关键字|名称|字节数|说明|
|-|-|-|-|
|char|字符型|1|表示一个字符|
|short|短整型|2|表示一个有符号短整数|
|int|整型|4|表示一个有符号整数，有些系统可能为2字节|
|long|长整型|8|表示一个有符号长整数|
|float|单精度浮点型|4|单精度浮点数|
|double|双精度浮点型|8|双精度浮点数|
|signed|有符号|-|用于修饰基本数据类型，表示有符号，由于基本数据类型默认就是有号，    所以可以不显式写出来
|unsigned|无符号|-|用于修饰基本数据类型，表示无符号||


- 抽象数据类型
  
有些关键字可以用来定义抽象数据类型，如下：

|关键字|名称|说明|
|-|-|-|
|union|联合|定义一段不同类型变量的共用内存|
|enum|枚举|定义该类型的一系列固定值，该类型的变量只能是其中之一|
|struct|结构|将不同类型变量聚合起来组成一个新的类型|
|class|类|将不同类型聚合起来组成一个新的类型|

## 变量
变量、对象、实例是等价的，对变量的理解很重要，理解了变量，对理解内存模型很有帮助。
变量包括变量类型、变量名、变量值，其中变量名定义了该变量存储空间的大小，变量名用于标识变量存储的位置，变量值是存储空间中具体的内容。

变量类型可以是上述的基本数据类型和抽象数据类型，其实质都是存储空间大小，为了方便我们理解和使用而定义，在底层都是一样的，只是大小不一样，甚至我们可以通过类型转换来将他们任意相互转换，这是c++中最诱人优点，也是最致命的缺点。

变量值如果超出了变量类型定义的存储空间大小叫做溢出，就像桶装满了水溢出一样，这个时候，桶里的水已经不是装进去哪些了。对变量来说，溢出后的值和预想的值就不一样了，这会造成很多危害，比如死循环：

```
short len = 0;
while(len< MAX_LEN) {
    len += readFromInput(fd, buf);
    buf += len;
}
```

## 内存模型

- C语言程序内存模型


- C++语言程序内存模型

# 常考概念
## 可重入和不可重入

## 溢出





# 常考关键字
 ## static

 - C语言中的static
  
    1. 静态局部变量  
        - 在局部作用域内声明的static变量，位于全局/静态区。
        - 只会初始化一次，如果没有显式初始化会被自动初始化为默认值。
        - 生命周期与进程一样，只能作用域内访问，重入作用域时保持上一次的值。    
    

    2.  静态全局变量
        - 定义在全局作用域内的static变量，位于全局/静态区。
        - 只会初始化一次，如果没有显式初始化会被自动初始化为默认值。
        - 生命周期与进程一样，只能本文件访问，不能被extern。
        > 静态全局变量与全局变量的区别主要是：全局变量可以通过extern在其他文件访问，静态全局变量则不能，这样防止了在不同文件定义同名变量时名字冲突。      

    3. 静态函数
       - 静态函数与静态全局变量类似，只能在本文件访问，也不能通过extern在其他文件访问。
  
- C++中static新增的作用
    1. 静态成员变量
        - static修饰的类成员变量，又叫类变量，因为这个变量属于类而不是实例，位于全局/静态区。
        - 普通成员函数也能访问类变量。
        - 静态成员变量不占类实例大小，即sizeof(class)中，不包括类变量的大小。

    2. 静态成员函数
        - static修饰的类成员函数，又叫类方法。
        - 类方法只能访问类变量和其他类方法，不能访问普通成员变量和成员函数；但普通成员函数可以访问类变量和类方法。
        - 类方法可以通过`ClassName::func()`来访问，也可以通过实例来访问。
    > 单例模式是static的一个经典的使用场景
   

## const